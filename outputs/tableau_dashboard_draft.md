# Tableau 대시보드 구성 초안

## 대시보드 개요

- **제목**: Employee Attrition Analysis — 직원 퇴사 분석 대시보드
- **목적**: HR 담당자가 퇴사 현황을 한눈에 파악하고, 핵심 퇴사 요인 및 위험군을 식별하여 리텐션 전략 수립에 활용
- **목표 독자**: HR 담당자, 경영진 (비기술 사용자)
- **데이터 소스**: IBM HR Analytics 데이터셋 (1,470명 x 35개 변수)

---

## 대시보드 구성: 3개 탭

### Tab 1. 퇴사 현황 Overview

> 전체 조직의 퇴사 현황을 요약하는 경영진용 메인 대시보드

```
┌─────────────────────────────────────────────────────────┐
│  [KPI Cards - 상단 가로 배치]                              │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐    │
│  │ 퇴사율    │ │ 조기퇴사율   │ │ 퇴사 인원  │ │ 전체 인원  │    │
│  │  16.1%   │ │  29.8%   │ │   237명   │ │  1,470명  │    │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘    │
│                                                         │
│  [필터] Department | OverTime | Tenure Band*             │
│                                                         │
│  ┌──────────────────────┐ ┌──────────────────────────┐  │
│  │ 근속연수별 퇴사 분포      │ │ 부서별 퇴사율 + 퇴사 인원    │  │
│  │ (히스토그램 + 퇴사율    │ │ (가로 막대 + 라벨)         │  │
│  │  이중축 라인)          │ │                          │  │
│  │ 0~1y          36.4%   │ │ Sales   20.6% | 92명     │  │
│  │ 1~2y          34.5%   │ │ R&D     13.8% | 133명    │  │
│  │                      │ │                          │  │
│  └──────────────────────┘ └──────────────────────────┘  │
│                                                         │
│  ┌──────────────────────┐ ┌──────────────────────────┐  │
│  │ 직무별 퇴사율 (Top N)    │ │ 연령대별 퇴사 분포          │  │
│  │ (가로 막대 차트)       │ │ (히스토그램 + 퇴사율       │  │
│  │                      │ │  이중축 라인)             │  │
│  │ Sales Rep    39.8%   │ │                          │  │
│  │ Lab Tech     23.8%   │ │                          │  │
│  └──────────────────────┘ └──────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
```

**구성 계획 이유 (Tab 1 상단 KPI):**

1. `퇴사율`: 퇴사 현황의 핵심 성과지표이므로 첫 시야(좌측 첫 카드)에 배치
2. `조기퇴사율(2년 이내)`: 퇴사율과 직접 연동되는 핵심 리스크 지표라서 바로 옆에 배치
3. `퇴사 인원`: 비율 다음에 실제 영향 규모(몇 명이 떠났는지)를 보여 의사결정 우선순위 판단 지원
4. `전체 인원`: 마지막에 분모 컨텍스트를 제공해 앞선 비율/인원 지표를 조직 규모 기준으로 해석
5. `필터 위치(KPI 하단)`: KPI는 전사 고정값, 하단 차트는 필터 연동 영역으로 분리해 해석 혼선 방지

**구성 계획 이유 (Tab 1 필터 하단 차트 순서):**

1. `근속연수별 퇴사 분포`를 1순위로 배치해 조기퇴사(0~2년) 집중 여부를 먼저 확인
2. `부서별 퇴사율 + 퇴사 인원`을 2순위로 배치해 비율과 규모를 함께 보고 예산 우선순위 판단
3. `직무별 퇴사율 (Top N)`은 실행 단위 구체화 목적의 3순위 배치
4. `연령대별 퇴사 분포`는 보조 맥락 지표로 4순위 배치

**Tenure Band 필터 충돌 해결 원칙 (Tab 1):**

1. `Tenure Band` 필터는 `부서별`, `직무별`, `연령대별` 차트에만 적용
2. `근속연수별 퇴사 분포` 차트에는 `Tenure Band` 필터를 적용하지 않아 전체 맥락 유지
3. 대시보드 안내 문구에 `* Tenure Band는 근속연수 분포 차트에는 미적용`을 명시

**차트 상세:**

| 영역 | 차트 유형 | 필드 | 비고 |
|------|----------|------|------|
| KPI Cards | Text / BAN | 계산 필드 | 순서: 퇴사율 → 조기퇴사율(2년 이내) → 퇴사 인원 → 전체 인원 (퇴사율 빨간색 강조) |
| 근속연수별 분포 | 히스토그램 + 이중축 | YearsAtCompany(bin) → Count, Attrition Rate | 필터 하단 1순위, 입사 1~2년차 퇴사율 강조, Tenure Band 필터 미적용 |
| 부서별 퇴사율 + 인원 | 가로 막대 + 라벨 | Department → Attrition Rate, Attrition Count | 비율+규모 동시 표시, 우선순위 판단 지원 |
| 직무별 퇴사율 (Top N) | 가로 막대 | JobRole → Attrition Rate | 상위 위험 직무만 노출해 실행 포커스 유지 |
| 연령대별 분포 | 히스토그램 + 이중축 | Age(bin) → Count, Attrition Rate | 보조 맥락 지표 (연령 5세 단위 구간) |

---

### Tab 2. 퇴사 요인 Deep Dive

> 퇴사에 영향을 미치는 핵심 요인을 다각도로 분석

```
┌─────────────────────────────────────────────────────────┐
│  [필터] Department | JobLevel | OverTime                 │
│                                                         │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 피처 중요도 Top 10                                │    │
│  │ (가로 막대 차트 — 모델 분석 결과 반영)               │    │
│  │                                                 │    │
│  │ OverTime            ████████████████  0.18      │    │
│  │ MonthlyIncome       ███████████████   0.15      │    │
│  │ Age                 ██████████████    0.12      │    │
│  │ ...                                             │    │
│  └─────────────────────────────────────────────────┘    │
│                                                         │
│  ┌──────────────────────┐ ┌──────────────────────────┐  │
│  │ 야근 여부별 퇴사율      │ │ 월소득 구간별 퇴사율        │  │
│  │ (도넛 차트 2개 비교)    │ │ (막대 + 라인 이중축)       │  │
│  │                      │ │                          │  │
│  │  야근O: 30.5%         │ │ ~3K: 높음                │  │
│  │  야근X: 10.4%         │ │ 3K~6K: 중간              │  │
│  │                      │ │ 6K+: 낮음                │  │
│  └──────────────────────┘ └──────────────────────────┘  │
│                                                         │
│  ┌──────────────────────┐ ┌──────────────────────────┐  │
│  │ 만족도 히트맵           │ │ 출장빈도 × 결혼상태        │  │
│  │ (4개 만족도 변수 ×     │ │ (그룹 막대 차트)           │  │
│  │  퇴사 여부)            │ │                          │  │
│  │ Env / Job / Rel /    │ │ 미혼+잦은출장 = 최고위험     │  │
│  │ WorkLife             │ │                          │  │
│  └──────────────────────┘ └──────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
```

**차트 상세:**

| 영역 | 차트 유형 | 필드 | 비고 |
|------|----------|------|------|
| 피처 중요도 | 가로 막대 | Feature → Importance Score | 모델링 결과(별도 CSV)에서 가져옴 |
| 야근별 퇴사율 | 도넛 차트 쌍 | OverTime → Attrition 비율 | 2배 이상 차이 강조 |
| 월소득 구간별 | 막대 + 라인 | MonthlyIncome(bin) → Count, Rate | 소득 구간 3~4단계 |
| 만족도 히트맵 | 히트맵 | 4개 Satisfaction(1~4) × Attrition | 색상: 퇴사율 기준 빨강 그라데이션 |
| 출장 × 결혼 | 그룹 막대 | BusinessTravel × MaritalStatus → Rate | 교차 분석으로 위험 조합 식별 |

---

### Tab 3. 리텐션 액션 플랜

> 분석 결과를 실행 가능한 HR 전략으로 연결

```
┌─────────────────────────────────────────────────────────┐
│  [필터] Risk Level | Department | JobRole                │
│                                                         │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 퇴사 위험도 스코어보드                              │    │
│  │ (스캐터 플롯: X=근속연수, Y=월소득, 색상=위험도,     │    │
│  │  크기=만족도)                                     │    │
│  │                                                 │    │
│  │  ● 고위험: 저소득 + 단기근속 + 야근 + 미혼          │    │
│  │  ● 중위험: 일부 위험요소 보유                       │    │
│  │  ● 저위험: 안정권                                 │    │
│  └─────────────────────────────────────────────────┘    │
│                                                         │
│  ┌──────────────────────┐ ┌──────────────────────────┐  │
│  │ 위험군 프로파일 요약    │ │ 제언 카드                  │  │
│  │ (트리맵 또는 테이블)    │ │ (텍스트 + 아이콘)          │  │
│  │                      │ │                          │  │
│  │ 고위험 그룹:           │ │ 1. 야근 관리 정책 강화      │  │
│  │ - 영업직 초기경력자     │ │ 2. 초기경력자 멘토링       │  │
│  │ - 야근 잦은 연구원     │ │ 3. 보상 경쟁력 점검        │  │
│  │ - 저소득 기술직        │ │ 4. 만족도 정기 서베이      │  │
│  └──────────────────────┘ └──────────────────────────┘  │
│                                                         │
│  ┌─────────────────────────────────────────────────┐    │
│  │ 부서별 액션 우선순위 매트릭스                        │    │
│  │ (버블 차트: X=퇴사율, Y=인원수, 색상=부서)           │    │
│  │                                                 │    │
│  │ → 우상단(고퇴사율+대규모) = 최우선 개입 대상          │    │
│  └─────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────┘
```

**차트 상세:**

| 영역 | 차트 유형 | 필드 | 비고 |
|------|----------|------|------|
| 위험도 스캐터 | 스캐터 플롯 | YearsAtCompany × MonthlyIncome, 색상=Risk | 위험도는 모델 예측 확률 기반 계산 필드 |
| 위험군 프로파일 | 트리맵 / 크로스탭 | Risk Group → 인원, 평균소득, 퇴사율 | 세그먼트별 특성 요약 |
| 제언 카드 | 텍스트 객체 | - | 고정 텍스트, 분석 결과 기반 작성 |
| 액션 매트릭스 | 버블 차트 | AttritionRate × Headcount, 색상=Dept | 사분면 참조선 추가 |

---

## 공통 설정

### 필터 (대시보드 액션)

- **배치 원칙**: Tab 1은 KPI 하단(고정 KPI와 필터 연동 차트 분리), Tab 2·3은 상단 가로 고정
- **기본 필터 (기본 노출)**: Department, OverTime, Tenure Band
- **고급 필터 (접기 영역)**: Gender, JobLevel, JobRole, Risk Level
- **Tab 1 기본값**: Department | OverTime | Tenure Band
- **Tab 2 기본값**: Department | JobLevel | OverTime
- **Tab 3 기본값**: Risk Level | Department | JobRole
- **필터 적용 범위 안내 문구**: "아래 차트에만 적용 (KPI는 전사 고정값, *Tenure Band는 근속연수 분포 차트 미적용)"
- **Tab 1 워크시트 적용 규칙**: Tenure Band 필터는 `부서별/직무별/연령대별` 시트에만 적용

**필터 구성 이유 및 개선 포인트:**

1. `Department`는 조직 책임 단위라서 예산/액션 오너십 결정에 직접 연결
2. `OverTime`은 퇴사와의 연관성이 가장 강해 우선 노출이 타당
3. `Tenure Band`는 조기퇴사 구간 식별에 직결되어 경영진 맥락 파악에 유리
4. `Gender`는 형평성 점검에는 필요하지만 설명력은 낮아 고급 필터로 이동
5. 탭별로 기본 필터를 다르게 두어 화면 목적(현황/원인/액션)에 맞는 탐색 효율 확보

### 색상 팔레트

- **퇴사 여부**: Yes = `#E74C3C` (빨강), No = `#3498DB` (파랑)
- **위험도**: 고 = `#E74C3C`, 중 = `#F39C12`, 저 = `#27AE60`
- **부서**: Sales = `#9B59B6`, R&D = `#2980B9`, HR = `#1ABC9C`

### 계산 필드 (Tableau에서 생성)
```
// 퇴사율
Attrition Rate = SUM(IF [Attrition]="Yes" THEN 1 ELSE 0 END) / COUNT([Attrition])

// 조기퇴사율 (2년 이내)
Early Attrition Rate (<=2y) =
IF SUM(IF [YearsAtCompany] <= 2 THEN 1 ELSE 0 END) = 0 THEN NULL
ELSE
  SUM(IF [YearsAtCompany] <= 2 AND [Attrition] = "Yes" THEN 1 ELSE 0 END)
  / SUM(IF [YearsAtCompany] <= 2 THEN 1 ELSE 0 END)
END

// 월소득 구간
Income Band = IF [MonthlyIncome] < 3000 THEN "~3K"
              ELSEIF [MonthlyIncome] < 6000 THEN "3K~6K"
              ELSEIF [MonthlyIncome] < 10000 THEN "6K~10K"
              ELSE "10K+" END

// 연령대
Age Group = STR(INT([Age]/5)*5) + "-" + STR(INT([Age]/5)*5+4)

// 근속 구간
Tenure Band = IF [YearsAtCompany] <= 1 THEN "0-1y"
              ELSEIF [YearsAtCompany] <= 2 THEN "1-2y"
              ELSEIF [YearsAtCompany] <= 5 THEN "3-5y"
              ELSEIF [YearsAtCompany] <= 10 THEN "6-10y"
              ELSE "10y+" END

// 위험도 (모델 예측 확률 기반, 별도 컬럼 필요)
Risk Level = IF [Predict_Prob] >= 0.6 THEN "고위험"
             ELSEIF [Predict_Prob] >= 0.3 THEN "중위험"
             ELSE "저위험" END
```

---

## 데이터 준비 사항

Tableau 연결 전 Python에서 내보낼 CSV 파일:

| 파일 | 내용 | 생성 시점 |
|------|------|----------|
| `data/processed/attrition_clean.csv` | 전처리 완료된 전체 데이터 | 02_preprocessing 완료 후 |
| `data/processed/feature_importance.csv` | 피처 중요도 (Feature, Importance) | 03_modeling 완료 후 |
| `data/processed/predictions.csv` | 직원별 퇴사 예측 확률 (EmployeeNumber, Predict_Prob) | 03_modeling 완료 후 |

→ Tableau에서 `attrition_clean.csv`를 메인 데이터 소스로,
  `feature_importance.csv`와 `predictions.csv`를 보조 소스로 연결

---

## 대시보드 제작 순서

1. Python 분석 완료 후 위 3개 CSV 내보내기
2. Tableau에서 데이터 소스 연결 및 계산 필드 생성
3. Tab 1 (Overview) 제작 — KPI 카드 → 부서/직무별 → 분포 차트
4. Tab 2 (Deep Dive) 제작 — 피처 중요도 → 요인별 차트 → 히트맵
5. Tab 3 (Action Plan) 제작 — 위험도 스캐터 → 프로파일 → 제언
6. 필터 액션 연결 및 서식 통일
7. 스토리(Story) 탭으로 3개 대시보드 연결하여 발표용 흐름 구성
